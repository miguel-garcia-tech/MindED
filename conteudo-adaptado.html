<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MindED – Conteúdo Adaptado</title>
  <link rel="stylesheet" href="./css/base.css" />
  <link rel="stylesheet" href="./css/layout.css" />
  <link rel="stylesheet" href="./css/pages/conteudo.css" />
  <link rel="stylesheet" href="./assistente/static/chatbot.css" />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
  />
</head>
<body>
  <!-- Cabeçalho -->
  <header class="main-header">
    <div class="header-content">
        <a href="index.html" class="logo">
            <img src="./assets/MindED_logo-removebg-preview.png" alt="MindED Logo">
        </a>
        <nav class="main-nav">
            <button class="hamburger-menu" aria-label="Abrir menu" aria-expanded="false">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </button>
            <ul class="nav-links">
                <li><a href="index.html">Início</a></li>
                <li><a href="conteudo.html">Conteúdos</a></li>
                <li><a href="preferencias.html">Preferências</a></li>
                
                <li><a href="login.html" class="login-button">Login</a></li>
                <li>
                  <button id="theme-toggle">
                    <i class="fas fa-moon"></i>
                  </button>
                </li>
            </ul>
        </nav>
    </div>
  </header>

  <!-- Área de Conteúdo Adaptado -->
  <main class="adapted-main">
    <div class="adapted-container">
      <h1 class="adapted-title">Seu Conteúdo Adaptado</h1>
      <div id="adapted-content">
        <p class="loading">Carregando conteúdo adaptado...</p>
      </div>
      <div class="feedback-actions">
        <span>O que você achou da adaptação?</span>
        <div class="feedback-buttons">
          <button id="like-btn" class="feedback-btn"><i class="fas fa-thumbs-up"></i> Gostei</button>
          <button id="dislike-btn" class="feedback-btn"><i class="fas fa-thumbs-down"></i> Não Gostei</button>
        </div>
      </div>
    </div>
    <div class="adapted-actions">
      <button id="refazer-btn" class="upload-btn"><i class="fas fa-redo-alt"></i> Refazer Adaptação</button>
      <button id="voltar-upload" class="upload-btn"><i class="fas fa-arrow-left"></i> Enviar Novo Conteúdo</button>
    </div>
  </main>

  <!-- Chatbot Flutuante -->
  <div class="chatbot-fab" onclick="toggleChatbot()">
    <i class="fas fa-comment-dots"></i>
  </div>
  <div id="chatbotWindow" class="chatbot-window hidden">
    <div class="chatbot-header">
      <span>Assistente MindED</span>
      <button onclick="toggleChatbot()"><i class="fas fa-times"></i></button>
    </div>
    <div class="chatbot-messages flex flex-col" id="chatbotMessages">
      <div class="message-bubble bot">
        Olá! Como posso te ajudar hoje?
      </div>
    </div>
    <div class="chatbot-input-area">
      <input type="text" id="chatInput" placeholder="Digite sua mensagem..." />
      <button id="sendChatButton"><i class="fas fa-paper-plane"></i></button>
    </div>
  </div>

  <script src="./js/theme-toggle.js" defer></script>
  <script src="./assistente/js/app.js" defer></script>
  <script src="js/menu.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const adaptedContentDiv = document.getElementById('adapted-content');
      const adaptedContent = sessionStorage.getItem('adaptedContent');

      if (adaptedContent) {
        adaptedContentDiv.innerHTML = adaptedContent;
      } else {
        adaptedContentDiv.innerHTML = '<p class="loading">Nenhum conteúdo adaptado encontrado. Por favor, envie um conteúdo na página de upload.</p>';
      }

      document.getElementById('voltar-upload').addEventListener('click', () => {
        window.location.href = 'upload.html';
      });
    });
  </script>
</body>
</html>
